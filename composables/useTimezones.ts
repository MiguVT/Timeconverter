import type { Timezone } from '~/types'

export const useTimezones = () => {
  const timezones: Timezone[] = [
    {
      value: 'America/New_York',
      label: 'New York',
      flag: 'ðŸ‡ºðŸ‡¸',
      country: 'USA (EST/EDT)',
      searchTerms: [
        'estados unidos',
        'eeuu',
        'usa',
        'united states',
        'america',
        'nueva york',
        'ny',
        'manhattan',
        'este',
      ],
    },
    {
      value: 'America/Chicago',
      label: 'Chicago',
      flag: 'ðŸ‡ºðŸ‡¸',
      country: 'USA (CST/CDT)',
      searchTerms: [
        'estados unidos',
        'eeuu',
        'usa',
        'united states',
        'america',
        'central',
        'illinois',
      ],
    },
    {
      value: 'America/Denver',
      label: 'Denver',
      flag: 'ðŸ‡ºðŸ‡¸',
      country: 'USA (MST/MDT)',
      searchTerms: [
        'estados unidos',
        'eeuu',
        'usa',
        'united states',
        'america',
        'colorado',
        'montaÃ±a',
        'montana',
        'mountain',
      ],
    },
    {
      value: 'America/Los_Angeles',
      label: 'Los Angeles',
      flag: 'ðŸ‡ºðŸ‡¸',
      country: 'USA (PST/PDT)',
      searchTerms: [
        'estados unidos',
        'eeuu',
        'usa',
        'united states',
        'america',
        'california',
        'la',
        'hollywood',
        'oeste',
        'pacifico',
        'pacific',
      ],
    },
    {
      value: 'America/Anchorage',
      label: 'Alaska',
      flag: 'ðŸ‡ºðŸ‡¸',
      country: 'USA (AKST/AKDT)',
      searchTerms: [
        'estados unidos',
        'eeuu',
        'usa',
        'united states',
        'america',
        'alaska',
        'anchorage',
      ],
    },
    {
      value: 'Pacific/Honolulu',
      label: 'Hawaii',
      flag: 'ðŸ‡ºðŸ‡¸',
      country: 'USA (HST)',
      searchTerms: [
        'estados unidos',
        'eeuu',
        'usa',
        'united states',
        'america',
        'hawÃ¡i',
        'hawaii',
        'honolulu',
        'pacifico',
        'pacific',
      ],
    },
    {
      value: 'America/Toronto',
      label: 'Toronto',
      flag: 'ðŸ‡¨ðŸ‡¦',
      country: 'Canada (EST/EDT)',
      searchTerms: ['canadÃ¡', 'canada', 'ontario', 'este', 'east'],
    },
    {
      value: 'America/Vancouver',
      label: 'Vancouver',
      flag: 'ðŸ‡¨ðŸ‡¦',
      country: 'Canada (PST/PDT)',
      searchTerms: [
        'canadÃ¡',
        'canada',
        'british columbia',
        'columbia britÃ¡nica',
        'britanica',
        'oeste',
        'pacifico',
        'pacific',
      ],
    },
    {
      value: 'America/Mexico_City',
      label: 'Mexico City',
      flag: 'ðŸ‡²ðŸ‡½',
      country: 'Mexico (CST)',
      searchTerms: [
        'mÃ©xico',
        'mexico',
        'ciudad de mÃ©xico',
        'ciudad de mexico',
        'cdmx',
        'df',
        'capital',
      ],
    },
    {
      value: 'America/Cancun',
      label: 'CancÃºn',
      flag: 'ðŸ‡²ðŸ‡½',
      country: 'Mexico (EST)',
      searchTerms: ['mÃ©xico', 'mexico', 'cancun', 'quintana roo', 'caribe', 'caribbean', 'playa'],
    },
    {
      value: 'America/Guatemala',
      label: 'Guatemala',
      flag: 'ðŸ‡¬ðŸ‡¹',
      country: 'Guatemala (CST)',
      searchTerms: ['centroamÃ©rica', 'centroamerica', 'central america', 'guatemalteco'],
    },
    {
      value: 'America/Costa_Rica',
      label: 'Costa Rica',
      flag: 'ðŸ‡¨ðŸ‡·',
      country: 'Costa Rica (CST)',
      searchTerms: [
        'centroamÃ©rica',
        'centroamerica',
        'central america',
        'costarricense',
        'san jose',
        'san josÃ©',
      ],
    },
    {
      value: 'America/Panama',
      label: 'Panama',
      flag: 'ðŸ‡µðŸ‡¦',
      country: 'Panama (EST)',
      searchTerms: [
        'panamÃ¡',
        'centroamÃ©rica',
        'centroamerica',
        'central america',
        'panameÃ±o',
        'panameno',
      ],
    },
    {
      value: 'America/Bogota',
      label: 'BogotÃ¡',
      flag: 'ðŸ‡¨ðŸ‡´',
      country: 'Colombia (COT)',
      searchTerms: [
        'bogota',
        'colombia',
        'colombiano',
        'sudamÃ©rica',
        'sudamerica',
        'south america',
        'suramerica',
      ],
    },
    {
      value: 'America/Lima',
      label: 'Lima',
      flag: 'ðŸ‡µðŸ‡ª',
      country: 'Peru (PET)',
      searchTerms: [
        'perÃº',
        'peru',
        'peruano',
        'sudamÃ©rica',
        'sudamerica',
        'south america',
        'suramerica',
      ],
    },
    {
      value: 'America/Santiago',
      label: 'Santiago',
      flag: 'ðŸ‡¨ðŸ‡±',
      country: 'Chile (CLT)',
      searchTerms: ['chile', 'chileno', 'sudamÃ©rica', 'sudamerica', 'south america', 'suramerica'],
    },
    {
      value: 'America/Caracas',
      label: 'Caracas',
      flag: 'ðŸ‡»ðŸ‡ª',
      country: 'Venezuela (VET)',
      searchTerms: [
        'venezuela',
        'venezolano',
        'sudamÃ©rica',
        'sudamerica',
        'south america',
        'suramerica',
      ],
    },
    {
      value: 'America/La_Paz',
      label: 'La Paz',
      flag: 'ðŸ‡§ðŸ‡´',
      country: 'Bolivia (BOT)',
      searchTerms: [
        'bolivia',
        'boliviano',
        'sudamÃ©rica',
        'sudamerica',
        'south america',
        'suramerica',
      ],
    },
    {
      value: 'America/Guayaquil',
      label: 'Quito',
      flag: 'ðŸ‡ªðŸ‡¨',
      country: 'Ecuador (ECT)',
      searchTerms: [
        'ecuador',
        'ecuatoriano',
        'guayaquil',
        'sudamÃ©rica',
        'sudamerica',
        'south america',
        'suramerica',
      ],
    },
    {
      value: 'America/Asuncion',
      label: 'AsunciÃ³n',
      flag: 'ðŸ‡µðŸ‡¾',
      country: 'Paraguay (PYT)',
      searchTerms: [
        'asuncion',
        'paraguay',
        'paraguayo',
        'sudamÃ©rica',
        'sudamerica',
        'south america',
        'suramerica',
      ],
    },
    {
      value: 'America/Montevideo',
      label: 'Montevideo',
      flag: 'ðŸ‡ºðŸ‡¾',
      country: 'Uruguay (UYT)',
      searchTerms: [
        'uruguay',
        'uruguayo',
        'sudamÃ©rica',
        'sudamerica',
        'south america',
        'suramerica',
      ],
    },
    {
      value: 'America/Sao_Paulo',
      label: 'SÃ£o Paulo',
      flag: 'ðŸ‡§ðŸ‡·',
      country: 'Brazil (BRT)',
      searchTerms: [
        'brasil',
        'brazil',
        'brasileÃ±o',
        'brasileno',
        'brazilian',
        'sao paulo',
        'san pablo',
        'sudamÃ©rica',
        'sudamerica',
        'south america',
      ],
    },
    {
      value: 'America/Buenos_Aires',
      label: 'Buenos Aires',
      flag: 'ðŸ‡¦ðŸ‡·',
      country: 'Argentina (ART)',
      searchTerms: [
        'argentina',
        'argentino',
        'sudamÃ©rica',
        'sudamerica',
        'south america',
        'suramerica',
        'ba',
      ],
    },
    {
      value: 'Europe/London',
      label: 'London',
      flag: 'ðŸ‡¬ðŸ‡§',
      country: 'UK (GMT/BST)',
      searchTerms: [
        'reino unido',
        'united kingdom',
        'inglaterra',
        'england',
        'londres',
        'gran bretaÃ±a',
        'gran bretana',
        'great britain',
        'uk',
        'gb',
        'british',
        'britanico',
      ],
    },
    {
      value: 'Europe/Paris',
      label: 'Paris',
      flag: 'ðŸ‡«ðŸ‡·',
      country: 'France (CET)',
      searchTerms: ['francia', 'france', 'parÃ­s', 'french', 'francÃ©s', 'frances'],
    },
    {
      value: 'Europe/Berlin',
      label: 'Berlin',
      flag: 'ðŸ‡©ðŸ‡ª',
      country: 'Germany (CET)',
      searchTerms: ['alemania', 'germany', 'berlÃ­n', 'german', 'alemÃ¡n', 'aleman', 'deutschland'],
    },
    {
      value: 'Europe/Madrid',
      label: 'Madrid',
      flag: 'ðŸ‡ªðŸ‡¸',
      country: 'Spain (CET)',
      searchTerms: [
        'espaÃ±a',
        'spain',
        'espana',
        'espaÃ±ol',
        'espanol',
        'spanish',
        'iberia',
        'castellano',
      ],
    },
    {
      value: 'Europe/Rome',
      label: 'Rome',
      flag: 'ðŸ‡®ðŸ‡¹',
      country: 'Italy (CET)',
      searchTerms: ['italia', 'italy', 'roma', 'italian', 'italiano'],
    },
    {
      value: 'Europe/Amsterdam',
      label: 'Amsterdam',
      flag: 'ðŸ‡³ðŸ‡±',
      country: 'Netherlands (CET)',
      searchTerms: [
        'paÃ­ses bajos',
        'paises bajos',
        'holanda',
        'holland',
        'netherlands',
        'dutch',
        'holandÃ©s',
        'holandes',
      ],
    },
    {
      value: 'Europe/Brussels',
      label: 'Brussels',
      flag: 'ðŸ‡§ðŸ‡ª',
      country: 'Belgium (CET)',
      searchTerms: [
        'bÃ©lgica',
        'belgica',
        'belgium',
        'bruselas',
        'belgian',
        'belga',
        'flandes',
        'flemish',
      ],
    },
    {
      value: 'Europe/Lisbon',
      label: 'Lisbon',
      flag: 'ðŸ‡µðŸ‡¹',
      country: 'Portugal (WET)',
      searchTerms: ['portugal', 'lisboa', 'portuguese', 'portuguÃ©s', 'portugues', 'iberia'],
    },
    {
      value: 'Europe/Zurich',
      label: 'Zurich',
      flag: 'ðŸ‡¨ðŸ‡­',
      country: 'Switzerland (CET)',
      searchTerms: ['suiza', 'switzerland', 'zÃ¼rich', 'zurich', 'swiss', 'suizo', 'helvetia'],
    },
    {
      value: 'Europe/Vienna',
      label: 'Vienna',
      flag: 'ðŸ‡¦ðŸ‡¹',
      country: 'Austria (CET)',
      searchTerms: ['austria', 'viena', 'austrian', 'austriaco'],
    },
    {
      value: 'Europe/Stockholm',
      label: 'Stockholm',
      flag: 'ðŸ‡¸ðŸ‡ª',
      country: 'Sweden (CET)',
      searchTerms: [
        'suecia',
        'sweden',
        'estocolmo',
        'swedish',
        'sueco',
        'scandinavia',
        'escandinavia',
      ],
    },
    {
      value: 'Europe/Oslo',
      label: 'Oslo',
      flag: 'ðŸ‡³ðŸ‡´',
      country: 'Norway (CET)',
      searchTerms: ['noruega', 'norway', 'norwegian', 'noruego', 'scandinavia', 'escandinavia'],
    },
    {
      value: 'Europe/Copenhagen',
      label: 'Copenhagen',
      flag: 'ðŸ‡©ðŸ‡°',
      country: 'Denmark (CET)',
      searchTerms: [
        'dinamarca',
        'denmark',
        'copenhague',
        'danish',
        'danÃ©s',
        'danes',
        'scandinavia',
        'escandinavia',
      ],
    },
    {
      value: 'Europe/Helsinki',
      label: 'Helsinki',
      flag: 'ðŸ‡«ðŸ‡®',
      country: 'Finland (EET)',
      searchTerms: [
        'finlandia',
        'finland',
        'finnish',
        'finlandÃ©s',
        'finlandes',
        'scandinavia',
        'escandinavia',
      ],
    },
    {
      value: 'Europe/Warsaw',
      label: 'Warsaw',
      flag: 'ðŸ‡µðŸ‡±',
      country: 'Poland (CET)',
      searchTerms: ['polonia', 'poland', 'varsovia', 'polish', 'polaco'],
    },
    {
      value: 'Europe/Prague',
      label: 'Prague',
      flag: 'ðŸ‡¨ðŸ‡¿',
      country: 'Czech Republic (CET)',
      searchTerms: ['repÃºblica checa', 'republica checa', 'czech', 'praga', 'checo', 'chequia'],
    },
    {
      value: 'Europe/Athens',
      label: 'Athens',
      flag: 'ðŸ‡¬ðŸ‡·',
      country: 'Greece (EET)',
      searchTerms: ['grecia', 'greece', 'atenas', 'greek', 'griego', 'hellas', 'hellenic'],
    },
    {
      value: 'Europe/Istanbul',
      label: 'Istanbul',
      flag: 'ðŸ‡¹ðŸ‡·',
      country: 'Turkey (TRT)',
      searchTerms: [
        'turquÃ­a',
        'turquia',
        'turkey',
        'estambul',
        'turkish',
        'turco',
        'constantinople',
        'constantinopla',
      ],
    },
    {
      value: 'Europe/Moscow',
      label: 'Moscow',
      flag: 'ðŸ‡·ðŸ‡º',
      country: 'Russia (MSK)',
      searchTerms: ['rusia', 'russia', 'moscÃº', 'moscu', 'russian', 'ruso'],
    },
    {
      value: 'Asia/Dubai',
      label: 'Dubai',
      flag: 'ðŸ‡¦ðŸ‡ª',
      country: 'UAE (GST)',
      searchTerms: [
        'emiratos Ã¡rabes',
        'emiratos arabes',
        'united arab emirates',
        'dubÃ¡i',
        'dubai',
        'uae',
        'abu dhabi',
        'middle east',
        'medio oriente',
      ],
    },
    {
      value: 'Asia/Riyadh',
      label: 'Riyadh',
      flag: 'ðŸ‡¸ðŸ‡¦',
      country: 'Saudi Arabia (AST)',
      searchTerms: [
        'arabia saudita',
        'arabia saudÃ­',
        'saudi arabia',
        'riyadh',
        'riad',
        'middle east',
        'medio oriente',
        'arab',
        'Ã¡rabe',
        'arabe',
      ],
    },
    {
      value: 'Asia/Jerusalem',
      label: 'Jerusalem',
      flag: 'ðŸ‡®ðŸ‡±',
      country: 'Israel (IST)',
      searchTerms: [
        'israel',
        'jerusalÃ©n',
        'jerusalen',
        'tel aviv',
        'israeli',
        'israelÃ­',
        'israeli',
        'middle east',
        'medio oriente',
      ],
    },
    {
      value: 'Asia/Tehran',
      label: 'Tehran',
      flag: 'ðŸ‡®ðŸ‡·',
      country: 'Iran (IRST)',
      searchTerms: [
        'irÃ¡n',
        'iran',
        'teherÃ¡n',
        'tehran',
        'iranian',
        'iranÃ­',
        'irani',
        'persia',
        'persian',
        'middle east',
        'medio oriente',
      ],
    },
    {
      value: 'Asia/Kolkata',
      label: 'Mumbai',
      flag: 'ðŸ‡®ðŸ‡³',
      country: 'India (IST)',
      searchTerms: [
        'india',
        'bombay',
        'mumbai',
        'delhi',
        'bangalore',
        'chennai',
        'kolkata',
        'calcuta',
        'indian',
        'indio',
        'hindu',
      ],
    },
    {
      value: 'Asia/Karachi',
      label: 'Karachi',
      flag: 'ðŸ‡µðŸ‡°',
      country: 'Pakistan (PKT)',
      searchTerms: [
        'pakistÃ¡n',
        'pakistan',
        'karachi',
        'islamabad',
        'lahore',
        'pakistani',
        'paquistanÃ­',
        'paquistani',
      ],
    },
    {
      value: 'Asia/Dhaka',
      label: 'Dhaka',
      flag: 'ðŸ‡§ðŸ‡©',
      country: 'Bangladesh (BST)',
      searchTerms: ['bangladesh', 'daca', 'dhaka', 'bangladeshi', 'bengali', 'bengalÃ­', 'bengali'],
    },
    {
      value: 'Asia/Bangkok',
      label: 'Bangkok',
      flag: 'ðŸ‡¹ðŸ‡­',
      country: 'Thailand (ICT)',
      searchTerms: ['tailandia', 'thailand', 'bangkok', 'thai', 'tailandÃ©s', 'tailandes', 'siam'],
    },
    {
      value: 'Asia/Singapore',
      label: 'Singapore',
      flag: 'ðŸ‡¸ðŸ‡¬',
      country: 'Singapore (SGT)',
      searchTerms: ['singapur', 'singapore', 'singaporean'],
    },
    {
      value: 'Asia/Jakarta',
      label: 'Jakarta',
      flag: 'ðŸ‡®ðŸ‡©',
      country: 'Indonesia (WIB)',
      searchTerms: ['indonesia', 'yakarta', 'jakarta', 'bali', 'indonesian', 'indonesio'],
    },
    {
      value: 'Asia/Manila',
      label: 'Manila',
      flag: 'ðŸ‡µðŸ‡­',
      country: 'Philippines (PST)',
      searchTerms: ['filipinas', 'philippines', 'manila', 'cebu', 'filipino'],
    },
    {
      value: 'Asia/Ho_Chi_Minh',
      label: 'Ho Chi Minh',
      flag: 'ðŸ‡»ðŸ‡³',
      country: 'Vietnam (ICT)',
      searchTerms: ['vietnam', 'saigon', 'saigÃ³n', 'hanoi', 'vietnamese', 'vietnamita'],
    },
    {
      value: 'Asia/Hong_Kong',
      label: 'Hong Kong',
      flag: 'ðŸ‡­ðŸ‡°',
      country: 'Hong Kong (HKT)',
      searchTerms: ['hong kong', 'hongkong', 'hk', 'china'],
    },
    {
      value: 'Asia/Shanghai',
      label: 'Shanghai',
      flag: 'ðŸ‡¨ðŸ‡³',
      country: 'China (CST)',
      searchTerms: [
        'china',
        'shanghÃ¡i',
        'shanghai',
        'beijing',
        'pekÃ­n',
        'pekin',
        'chinese',
        'chino',
      ],
    },
    {
      value: 'Asia/Taipei',
      label: 'Taipei',
      flag: 'ðŸ‡¹ðŸ‡¼',
      country: 'Taiwan (CST)',
      searchTerms: ['taiwÃ¡n', 'taiwan', 'taipÃ©i', 'taipei', 'taiwanese', 'formosa'],
    },
    {
      value: 'Asia/Tokyo',
      label: 'Tokyo',
      flag: 'ðŸ‡¯ðŸ‡µ',
      country: 'Japan (JST)',
      searchTerms: [
        'japÃ³n',
        'japon',
        'japan',
        'tokio',
        'tokyo',
        'osaka',
        'kyoto',
        'japanese',
        'japonÃ©s',
        'japones',
        'nippon',
      ],
    },
    {
      value: 'Asia/Seoul',
      label: 'Seoul',
      flag: 'ðŸ‡°ðŸ‡·',
      country: 'South Korea (KST)',
      searchTerms: [
        'corea del sur',
        'corea',
        'korea',
        'seÃºl',
        'seoul',
        'busan',
        'korean',
        'coreano',
      ],
    },
    {
      value: 'Australia/Perth',
      label: 'Perth',
      flag: 'ðŸ‡¦ðŸ‡º',
      country: 'Australia (AWST)',
      searchTerms: [
        'australia',
        'perth',
        'western australia',
        'australia occidental',
        'aussie',
        'australiano',
      ],
    },
    {
      value: 'Australia/Sydney',
      label: 'Sydney',
      flag: 'ðŸ‡¦ðŸ‡º',
      country: 'Australia (AEST)',
      searchTerms: [
        'australia',
        'sÃ­dney',
        'sidney',
        'sydney',
        'new south wales',
        'aussie',
        'australiano',
      ],
    },
    {
      value: 'Australia/Melbourne',
      label: 'Melbourne',
      flag: 'ðŸ‡¦ðŸ‡º',
      country: 'Australia (AEST)',
      searchTerms: ['australia', 'melbourne', 'victoria', 'aussie', 'australiano'],
    },
    {
      value: 'Pacific/Auckland',
      label: 'Auckland',
      flag: 'ðŸ‡³ðŸ‡¿',
      country: 'New Zealand (NZST)',
      searchTerms: [
        'nueva zelanda',
        'nueva zelandia',
        'new zealand',
        'auckland',
        'wellington',
        'kiwi',
        'neozelandÃ©s',
        'neozelandes',
      ],
    },
    {
      value: 'Pacific/Fiji',
      label: 'Fiji',
      flag: 'ðŸ‡«ðŸ‡¯',
      country: 'Fiji (FJT)',
      searchTerms: ['fiyi', 'fiji', 'fijian', 'oceania', 'oceanÃ­a', 'pacific', 'pacifico'],
    },
    {
      value: 'Africa/Cairo',
      label: 'Cairo',
      flag: 'ðŸ‡ªðŸ‡¬',
      country: 'Egypt (EET)',
      searchTerms: ['egipto', 'egypt', 'el cairo', 'cairo', 'egyptian', 'egipcio'],
    },
    {
      value: 'Africa/Johannesburg',
      label: 'Johannesburg',
      flag: 'ðŸ‡¿ðŸ‡¦',
      country: 'South Africa (SAST)',
      searchTerms: [
        'sudÃ¡frica',
        'sudafrica',
        'south africa',
        'johannesburg',
        'johannesburgo',
        'cape town',
        'ciudad del cabo',
        'pretoria',
        'durban',
      ],
    },
    {
      value: 'Africa/Lagos',
      label: 'Lagos',
      flag: 'ðŸ‡³ðŸ‡¬',
      country: 'Nigeria (WAT)',
      searchTerms: ['nigeria', 'lagos', 'abuja', 'nigerian', 'nigeriano'],
    },
    {
      value: 'Africa/Nairobi',
      label: 'Nairobi',
      flag: 'ðŸ‡°ðŸ‡ª',
      country: 'Kenya (EAT)',
      searchTerms: ['kenia', 'kenya', 'nairobi', 'kenyan', 'keniano'],
    },
  ]

  const convertTime = (time: string, fromTz: string, toTz: string): string => {
    if (!time || !fromTz || !toTz) return ''

    try {
      const parts = time.split(':')
      const parsedHours = Number(parts[0])
      const parsedMinutes = Number(parts[1] ?? 0)
      const hours = Number.isFinite(parsedHours) ? parsedHours : 0
      const minutes = Number.isFinite(parsedMinutes) ? parsedMinutes : 0
      const today = new Date()
      const date = new Date(today.getFullYear(), today.getMonth(), today.getDate(), hours, minutes)

      const formatter = new Intl.DateTimeFormat('en-US', {
        timeZone: fromTz,
        hour: '2-digit',
        minute: '2-digit',
        hour12: false,
      })

      const localTimeString = formatter.format(date)
      const localParts = localTimeString.split(':')
      const parsedLocalHours = Number(localParts[0])
      const localHours = Number.isFinite(parsedLocalHours) ? parsedLocalHours : 0
      const diff = hours - localHours

      const utcDate = new Date(date)
      utcDate.setHours(utcDate.getHours() + diff)

      const resultFormatter = new Intl.DateTimeFormat('en-US', {
        timeZone: toTz,
        hour: '2-digit',
        minute: '2-digit',
        hour12: false,
      })

      return resultFormatter.format(utcDate)
    } catch {
      return 'Error'
    }
  }

  return {
    timezones,
    convertTime,
  }
}
